<!DOCTYPE html>
<html>
<head>
    <title>AI Tic-Tac-Toe Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .board { display: grid; grid-template-columns: repeat(3, 60px); gap: 5px; margin: 20px 0; }
        .cell { width: 60px; height: 60px; border: 1px solid #333; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; }
        .cell:hover { background-color: #f0f0f0; }
        .controls { margin: 20px 0; }
        button { margin: 5px; padding: 8px 16px; }
        .info { margin: 10px 0; padding: 10px; background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>ðŸ¤– AI Tic-Tac-Toe Test</h1>
    
    <div class="controls">
        <label>Game Mode:</label>
        <select id="gameMode">
            <option value="multiplayer">Multiplayer</option>
            <option value="singleplayer">Single Player vs AI</option>
        </select>
        
        <label>AI Difficulty:</label>
        <select id="difficulty" disabled>
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
        </select>
        
        <button onclick="startGame()">Start Game</button>
        <button onclick="resetGame()">Reset</button>
    </div>
    
    <div class="info">
        <div>Status: <span id="status">Waiting...</span></div>
        <div>Current Player: <span id="currentPlayer">X</span></div>
        <div>Mode: <span id="modeInfo">Multiplayer</span></div>
    </div>
    
    <div class="board" id="board">
        <!-- Cells will be generated by JavaScript -->
    </div>
    
    <script type="module">
        import { createAIGameEngine } from './src/aiGameEngine.js';
        
        let gameEngine = null;
        let boardElement = null;
        
        function initGame() {
            gameEngine = createAIGameEngine();
            boardElement = document.getElementById('board');
            updateUI();
        }
        
        function updateUI() {
            const state = gameEngine.getState();
            
            // Update info
            document.getElementById('status').textContent = state.status;
            document.getElementById('currentPlayer').textContent = state.currentPlayer;
            document.getElementById('modeInfo').textContent = state.gameMode + 
                (state.aiDifficulty ? ` (${state.aiDifficulty})` : '');
            
            // Update board
            boardElement.innerHTML = '';
            state.board.forEach((cell, index) => {
                const cellElement = document.createElement('div');
                cellElement.className = 'cell';
                cellElement.textContent = cell;
                cellElement.onclick = () => makeMove(index);
                boardElement.appendChild(cellElement);
            });
        }
        
        function makeMove(index) {
            const state = gameEngine.getState();
            if (state.status !== 'playing') return;
            
            gameEngine.makeMove(index);
            updateUI();
        }
        
        function startGame() {
            const mode = document.getElementById('gameMode').value;
            const difficulty = document.getElementById('difficulty').value;
            
            gameEngine.setGameMode(mode, difficulty);
            updateUI();
        }
        
        function resetGame() {
            gameEngine.resetGame();
            updateUI();
        }
        
        // Initialize UI controls
        document.getElementById('gameMode').addEventListener('change', function() {
            document.getElementById('difficulty').disabled = this.value !== 'singleplayer';
        });
        
        // Initialize game
        initGame();
    </script>
</body>
</html>
